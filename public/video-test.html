<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Test</title>
    <style>
      body {
        background: #000;
        color: white;
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      video {
        width: 100%;
        max-width: 800px;
        display: block;
        margin: 20px auto;
        border: 2px solid #333;
      }
      .info {
        text-align: center;
        margin: 20px;
      }
      .error {
        color: #ff6b6b;
      }
      .success {
        color: #51cf66;
      }
    </style>
  </head>
  <body>
    <h1 style="text-align: center">Video Test Page</h1>

    <div class="info">
      <p>Testing video: /videos/about-bg-1.mp4</p>
      <p id="status">Loading...</p>
    </div>

    <video id="testVideo" controls autoplay muted loop>
      <source src="/videos/about-bg-1.mp4" type="video/mp4" />
      <source src="/videos/about-bg-1.mp4" type="video/quicktime" />
      Your browser does not support the video tag.
    </video>

    <div class="info">
      <h3>Debug Info:</h3>
      <pre id="debug"></pre>
    </div>

    <script>
      const video = document.getElementById("testVideo");
      const status = document.getElementById("status");
      const debug = document.getElementById("debug");

      video.addEventListener("loadstart", () => {
        status.textContent = "Starting to load...";
        status.className = "";
      });

      video.addEventListener("loadeddata", () => {
        status.textContent = "✓ Video loaded successfully!";
        status.className = "success";
        debug.textContent = `
Video Details:
- Duration: ${video.duration} seconds
- Width: ${video.videoWidth}px
- Height: ${video.videoHeight}px
- Ready State: ${video.readyState}
- Network State: ${video.networkState}
- Can Play Type (MP4): ${video.canPlayType("video/mp4")}
- Can Play Type (MOV): ${video.canPlayType("video/quicktime")}
            `;
      });

      video.addEventListener("error", (e) => {
        status.textContent = "✗ Error loading video";
        status.className = "error";
        debug.textContent = `
Error Details:
- Error: ${e.message || "Unknown error"}
- Video src: ${video.currentSrc}
- Error code: ${video.error ? video.error.code : "N/A"}
- Error message: ${video.error ? video.error.message : "N/A"}

Error Codes:
1 = MEDIA_ERR_ABORTED
2 = MEDIA_ERR_NETWORK
3 = MEDIA_ERR_DECODE
4 = MEDIA_ERR_SRC_NOT_SUPPORTED
            `;
      });

      video.addEventListener("canplay", () => {
        console.log("Video can play");
      });

      video.addEventListener("playing", () => {
        console.log("Video is playing");
      });
    </script>
  </body>
</html>
